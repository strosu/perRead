<h1><b>{{request.title}}</b></h1>

<div id="block_container">
    <strong>Offered to: </strong>
    <app-author-preview [authorPreview]="request.targetAuthor"></app-author-preview>
</div>

<h2>Description:</h2>
{{request.description}}

<div id="block_container">
    <strong>Initiated by: </strong>
    <app-author-preview [authorPreview]="request.initiator"></app-author-preview>
</div>

<h2>Total pledged so far: {{request.pledgeAmount}}</h2>

<br>Request state: {{request.requestState}}

<br> Publish state: {{mapping[request.postPublishState]}}

<div *ngIf="request.editableByCurrentUser">
    <button routerLink="/requests/{{request.requestId}}/edit" mat-raised-button color="primary">Edit request</button>
    <button (click)="deleteRequest()" mat-raised-button color="primary" class="danger with-margin">Delete</button>
</div>

<a routerLink="/requests/{{request.requestId}}/pledges/add" mat-raised-button color="primary">Add new pledge</a>

<app-pledge-list [pledgePreviews]="request.pledgePreviews"></app-pledge-list>